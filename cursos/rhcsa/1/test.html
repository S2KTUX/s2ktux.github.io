<div class="course-content">
   
    <h3>Gesti√≥n de Software en Linux (RPM y Flatpak)</h3>
    <p>Gesti√≥n de paquetes y repositorios. Aprende a administrar el software en Red Hat Enterprise Linux y Flatpak.</p>
   
    <!-- Video Asociado -->
    <div class="terminal-callout">
        <div>
            <strong>üì∫ Video de la lecci√≥n:</strong>
        </div>
        <div>
            <a href="https://youtu.be/GM_9D8zNOag" target="_blank">Ver en YouTube</a>
        </div>
    </div>

    <!-- Alerta de Versi√≥n -->
    <div class="lesson-alert">
        ‚ö†Ô∏è Nota Importante: Punto 3 y 4 son exclusivos para el examen RHCSA V10.
    </div>

    <hr>

    <!-- OBJETIVO 1: CONFIGURAR ACCESO A REPOSITORIOS RPM -->
    <h4>1. Configurar el acceso a los repositorios RPM</h4>
    <p>Los repositorios RPM son fuentes de software que permiten instalar y actualizar paquetes. En RHEL, se definen mediante archivos <strong>.repo</strong> en <code>/etc/yum.repos.d/</code>.</p>
    
    <p>El contenido esencial de un archivo <strong>.repo</strong> es:</p>
    <img src="/images/repo-rpm.png" alt="Ejemplo archivo .repo" class="lesson-img">
    
    <p>Entendiendo los campos clave:</p>
    <ul>
        <li><strong>[id_del_repo]</strong>: Identificador √∫nico del repositorio.</li>
        <li><strong>name</strong>: Nombre descriptivo legible.</li>
        <li><strong>baseurl</strong>: Ubicaci√≥n del servidor. Si es una ISO local: <code>baseurl=file:///RUTA-MONTAJE</code>.</li>
        <li><strong>enabled</strong>: 1 (activo) o 0 (inactivo).</li>
        <li><strong>gpgcheck</strong>: 1 (validar firma) o 0 (omitir).</li>
        <li><strong>gpgkey</strong>: URL de la clave p√∫blica GPG.</li>
    </ul>
    <p>Para el examen RHCSA, a menudo se configura <code>gpgcheck=0</code> para simplificar.</p>
    
    <p><strong>Proceso de carga de un repositorio local:</strong></p>
    <ol>
        <li>Montar la ISO: <code>mount -o loop /ruta/a/iso.iso /mnt/cdrom</code></li>
        <li>Crear el archivo <strong>.repo</strong> apuntando a <code>/mnt/cdrom/BaseOS/AppStream/</code>.</li>
    </ol>

    <p><strong>Gesti√≥n de repositorios:</strong></p>
    <ul>
        <li>Crear: <code>dnf config-manager --add-repo=https://ejemplo.com/repo.repo</code></li>
        <li>Habilitar: <code>dnf config-manager --set-enabled rhel-8-for-x86_64-baseos-rpms</code></li>
        <li>Deshabilitar: <code>dnf config-manager --set-disabled rhel-8-for-x86_64-baseos-rpms</code></li>
li>Actualizar cach√©: <code>dnf clean all && dnf makecache</code></li>
        <li>Ver repositorios: <code>dnf repolist</code></li>
    </ul>
    <img src="/images/recargar-repo-rpm.png" alt="Resultado de dnf repolist" class="lesson-img">

    <!-- OBJETIVO 2: INSTALAR Y ELIMINAR PAQUETES RPM -->
    <h4>2. Instalar y eliminar paquetes de software RPM</h4>
    
    <!-- NOTA SIMPLIFICADA (Sin fondo, sin borde, solo texto) -->
    <div class="note-box">
        <strong>üí° Nota:</strong>
        <p><code>rpm</code> gestiona paquetes individuales. <code>dnf</code> (sucesor de <code>yum</code>) gestiona dependencias autom√°ticamente.</p>
    </div>

    <h5>Comandos RPM (Low-level):</h5>
    <p>Se usan cuando tienes el archivo <strong>.rpm</strong> local o necesitas opciones espec√≠ficas.</p>
    <ul>
        <li><code>rpm -ivh paquete.rpm</code> ‚Üí Instalar y ver detalles (verbose).</li>
        <li><code>rpm -Uvh paquete.rpm</code> ‚Üí Actualizar o instalar si es m√°s nuevo.</li>
        <li><code>rpm -e nombre_paquete</code> ‚Üí Eliminar (erase) el paquete„ÄÇ</li>
        <li><code>rpm -Vpaquete</code> ‚Üí Verificar integridad (Verify)„ÄÇ</li>
        <li><code>rpm -qa</code> ‚Üí Consultar todos (Query All) los paquetes instalados.</li>
        <li><code>rpm -qf /ruta/archivo</code> -> ¬øQu√© paquete instal√≥ este archivoÔºü</li>
        <li><code>rpm -qi paquete</code> -> Consultar informaci√≥n (Info)„ÄÇ</li>
    </ul>

    <h5>Comandos DNF (Dandified YUM)</h5>
    <p>Es la herramienta recomendada para el d√≠a a d√≠a en RHEL 8 y 9.</p>
    <ul>
        <li><code>dnf install paquete</code> ‚Üí Instalar„ÄÇ</li>
        <li><code>dnf remove paquete</code> ‚Üí Desinstalar„ÄÇ</li>
        <li><code>dnf upgrade paquete</code> ‚Üí Actualizar„ÄÇ</li>
        <li><code>dnf search paquete</code> -> Buscar en repositorios„ÄÇ</li>
        <li><code>dnf list installed</code> -> Ver lo instalado„ÄÇ</li>
        <li><code>dnf repoquery paquete</code> -> Busca disponible„ÄÇ</li>
        <li><code>dnf info paquete</code> -> Ver detalles del paquete„ÄÇ</li>
        <li><code>dnf provides comando</code> -> ¬øQu√© paquete provee este comandoÔºü</li>
    </ul>

    <p>Para revertir acciones (√∫til si cometes un error):</p>
    <ul>
        <li>Ver historial: <code>dnf history</code></li>
        <li>Deshacer √∫ltimo cambio: <code>dnf history undo 1</code></li>
    </ul>
    <img src="/images/history-rpm.png" alt="Historial de dnf" class="lesson-img">
    
    <p><strong>Extracci√≥n de archivos de un RPM:</strong></p>
    <p>Para ver el contenido de un RPM sin instalarlo, usa <code>rpm2cpio</code>:</p>
    <img src="/images/recuperar-archivo-rpm.png" alt="Ejemplo de extracci√≥n" class="lesson-img">

    <!-- OBJETIVO 3: CONFIGURAR FLATPAK -->
    <h4>3. Configurar el acceso a repositorios Flatpak</h4>
    <p>Flatpak permite instalar aplicaciones sandboxeadas y aisladas. El repositorio universal es <strong>Flathub</strong>.</p>
    
    <p><strong>Gesti√≥n de repositorios:</strong></p>
    <ul>
        <li><code>flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo</code> ‚Üí A√±adir Flathub„ÄÇ</li>
        <li><code>flatpak remotes</code> ‚Üí Listar repositorios activos„ÄÇ</li>
        <li><code>flatpak remote-delete flathub</code> ‚Üí Eliminar„ÄÇ</li>
    </ul>
    <img src="/images/flatpak-repo.png" alt="Gesti√≥n remota Flatpak" class="lesson-img">
    <p><strong>Configuraci√≥n para el examen RHCSA:</strong></p>
    <p>A menudo se requiere a√±adir el repositorio oficial de Red Hat para aplicaciones RHEL espec√≠ficas.</p>
    <img src="/images/flatpak-redhat.png" alt="Repo oficial Red Hat" class="lesson-img">
    
    <div class="note-box">
        <strong>üí° Nota:</strong>
        <p>Si encuentras errores de autenticaci√≥n con <code>--auth-file</code>, soluciona manualmente:</p>
    </div>
    <pre style="color: #e2e8f0 !important;"><code>cp $XDG_RUNTIME_DIR/containers/auth.json /etc/flatpak/ archive-auth.json
chmod 644 /etc/flatpak/archive-auth.json</code></pre>

    <!-- OBJETIVO 4: INSTALAR Y ELIMINAR PAQUETES FLATPAK -->
    <h4>4. Instalar y eliminar paquetes Flatpak</h4>
    <p>Las aplicaciones Flatpak se identifican con su nombre inverso de dominio (ej: <code>org.gnome.Calendar</code>).</p>
    
    <p><strong>Instalaci√≥n:</strong></p>
    <ul>
        <li><code>flatpak install org.gimp.GIMP</code></li>
        <li><code>flatpak install flathub</code> (instalar todo lo de Flathub)</li>
    </ul>
    
    <p><strong>Gesti√≥n:</strong></p>
    <ul>
        <li><code>flatpak list</code> ‚Üí Ver aplicaciones instaladas„ÄÇ</li>
        <li><code>flatpak info org.gimp.GIMP</code> ‚Üí Ver detalles de la aplicaci√≥n„ÄÇ</li>
        <li><code>flatpak run org.gimp.GIMP</code> ‚Üí Ejecutar aplicaci√≥n„ÄÇ</li>
        <li><code>flatpak uninstall org.gimp.GIMP</code> ‚Üí Eliminar„ÄÇ</li>
        <code>flatpak update --app org.gimp.GIMP</code> ‚Üí Actualizar„ÄÇ
        <li><code>flatpak search gimp</code> ‚Üí Buscar en repositorios„ÄÇ
    </ul>
    <img src="/images/flatpak-install.png" alt="Instalaci√≥n GIMP" class="lesson-img">
</div>
