<div class="lesson-wrapper">

    <header class="lesson-header">
        <span class="badge">RHCSA Objetivo</span>
        <h1>Administrar redes b치sicas</h1>
        <p>Configuraci칩n de IP, Hostname y Firewall</p>

        <a href="https://youtu.be/cjx4DZ7tJI0" target="_blank" class="video-card">
            <div class="video-icon">游꿟</div>
            <div class="video-text">
                <strong>VER VIDEO YOUTUBE - CLASE 8</strong>
                <span>Configuraci칩n de red y seguridad b치sica en RHEL</span>
            </div>
        </a>
    </header>

    <div class="lesson-layout">

        <aside class="lesson-toc">
            <h4>Objetivos del bloque</h4>
            <ul>
                <li><a href="#obj1">1. IPv4 e IPv6</a></li>
                <li><a href="#obj2">2. Nombre de host</a></li>
                <li><a href="#obj3">3. Servicios en el arranque</a></li>
                <li><a href="#obj4">4. Firewall y seguridad</a></li>
            </ul>
        </aside>

        <div class="course-content">

            <section id="obj1" class="lesson-section">
                <h3>1. Configurar direcciones IPv4 e IPv6</h3>
                <p>En RHEL, la gesti칩n de red se realiza mediante <strong>NetworkManager</strong> usando <code>nmcli</code>. Tambi칠n podemos usar <code>nmtui</code> o el comando <code>ip</code> para cambios temporales.</p>
                <p>Con <strong>nmcli</strong> podemos crear, modificar y eliminar conexiones de red y gestionar el estado de las interfaces.</p>
                <img src="/images/nmcli-config.png" alt="nmcli ejemplo configuraci칩n" >
                <p>Ejemplo WiFi: <code>nmcli connection add type wifi ifname [INTERFAZ] con-name [NOMBRE] ssid [NOMBRE_RED] wifi-sec.key-mgmt wpa-psk wifi-sec.psk [CONTRASE칌A] ipv4.addresses ...</code>.</p>
                <p>IPv6 se configura igual usando propiedades <code>ipv6.*</code>. Es importante usar <code>connection.autoconnect yes</code>. Activamos con <code>nmcli con up "ID"</code> y verificamos con <code>ip addr show</code>.</p>
                <p>Tambi칠n podemos a침adir rutas est치ticas adem치s de la puerta de enlace definida con <code>ipv4.gateway</code>. El s칤mbolo <code>+</code> a침ade rutas sin sobrescribir las existentes.</p>
                <img src="/images/nmcli-route.png" alt="nmcli ejemplo configuraci칩n" >
            </section>
                <h3>Configurar la resoluci칩n del nombre de host</h3>

            <section id="obj2" class="lesson-section">
                <h3>2. Configurar la resoluci칩n del nombre de host</h3>
                <p>El hostname identifica al equipo en la red. Para cambios permanentes usamos <code>hostnamectl</code>. Editar <code>/etc/hostname</code> tambi칠n es posible pero requiere reinicio.</p>
                <img src="/images/hostname.png" alt="hostname ejemplo configuraci칩n">
                <p>Para resoluci칩n local sin DNS editamos <code>/etc/hosts</code> con la sintaxis: IP NOMBRE_COMPLETO ALIAS.</p>
                <img src="/images/etc-host.png" alt="archivo ejemplo /etc/hosts">
                <p>No debemos modificar <code>/etc/resolv.conf</code>, ya que NetworkManager lo sobrescribe. La configuraci칩n DNS persistente se realiza mediante <code>nmcli</code>, <code>nmtui</code> o archivos <code>.nmconnection</code>.</p>
                <p> La forma correcta para una configuraci칩n de DNS persistente es con <code>nmcli</code>, <code>nmtui</code> o los archivos <code>.nmconnection</code> ubicados en <strong>/etc/NetworkManager/system-connections/</strong> y <code>nmcli con up NOMBRE-RED</code> para aplicar el cambio. </p>
            </section>

            <section id="obj3" class="lesson-section">
                <h3>3. Servicios de red al inicio del sistema</h3>
                <p>Para asegurar que nuestra configuraci칩n de red sea efectiva desde el arranque, el servicio <strong>NetworkManager</strong> debe estar habilitado y activo : <code>systemctl enable --now NetworkManager</code>.</p>
                <p>Si utilizamos el nmcli, no olvideis usar <code>connection.autoconnect yes</code> para que se inicie automaticamente.</p>
                 <p>Podemos comprobar la conectividad con comandos como <code>ip a</code>, <code>nmcli device status</code> o <code>systemctl status NetworkManager</code>.</p>
                <img src="/images/check-net.png" alt="check net ejemplo">
                <p>Si creamos servicios dependientes de red, debemos usar <code>After=network-online.target</code> y <code>Wants=network-online.target</code> en la secci칩n [Unit].</p>

            <section id="obj4" class="lesson-section">
                <h3>4. Restringir acceso con firewalld y firewall-cmd</h3>
                <p>La seguridad en RHEL se gestiona mediante <strong>firewalld</strong>, que organiza reglas en zonas. Podemos comprobar su estado con <code>systemctl status firewalld</code> o <code>firewall-cmd --state</code>.</p>
                <p>Las zonas son un conjunto de reglas que determinan qu칠 tr치fico se permite o se deniega. Las zonas m치s comunes son : </p>
                <ul>
                    <li><strong>public</strong> : Zona est치ndar de confianza baja. Solo se permite el tr치fico entrante de servicios espec칤ficos (como SSH) y el resto se descarta.</li>
                    <li><strong>drop</strong> : Nivel de seguridad m치ximo. El sistema descarta los paquetes entrantes sin enviar ninguna respuesta al emisor (silencio total).</li>
                    <li><strong>block</strong> : El sistema rechaza las conexiones entrantes enviando un mensaje de "ICMP host prohibited", informando que el acceso est치 denegado.</li>
                    <li><strong>internal</strong> : Orientada a redes locales seguras. Permite de forma predefinida m치s servicios para facilitar la comunicaci칩n entre equipos conocidos.</li>
                    <li><strong>trusted</strong> : Confianza absoluta. Se aceptan todas las conexiones entrantes sin aplicar ning칰n filtro de seguridad.</li>
                </ul>
                <p> Cada interfaz puede tener una zona, y podemos cambiarla, poner una por defecto, comprobar el estado actual...  </p>
                <img src="/images/firewall-basic.png" alt="firewall-cmd ejemplo"">
                 <p>Recordad usar <code>--permanent</code> para persistencia y <code>firewall-cmd --reload</code> para aplicar cambios.</p>
                <img src="/images/firewall-basic2.png" alt="firewall-cmd ejemplo">
                <p>Las rich rules permiten reglas m치s avanzadas y las vemos en la siguiente clase.</p>
            </section>

        </div>
    </div>
</div>
