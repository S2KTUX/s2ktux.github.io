<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RHCSA - Crear y configurar sistemas de archivos">
    <meta name="keywords" content="RHCSA, Linux, sistemas de archivos, mount, NFS, autofs, permisos">
    <meta name="author" content="SysRiser">
    <title>S2KTUX - RHCSA | Sistemas de archivos</title>
    <link rel="stylesheet" href="/conf/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/images/favicon.png">
</head>
<body>

<div class="gradient-bg"></div>

<header>
    <div class="header-left">
        <a href="/index.html" class="header-logo">S2KTUX</a>
    </div>
    <nav>
        <a href="/index.html">Inicio</a>
        <a href="/cursos/cursos.html">Cursos</a>
        <a href="/proyectos/proyectos.html">Proyectos</a>
    </nav>
</header>

<main id="contenido">

    <div class="hero">
        <h1>Crear y configurar sistemas de archivos</h1>
        <p>Formateo, montaje, expansión y permisos</p>
        <p><a href="https://youtu.be/gaYlseO7kus" target="_blank">VER VIDEO YOUTUBE - CLASE 6</a></p>
    </div>

    <a href="/cursos/cursos.html" class="back-link">← Volver al curso RHCSA</a>

    <div class="course-page">

        <div class="sidebar">
            <h3>Objetivos del bloque</h3>
            <ul>
                <li><a href="#obj1">Sistemas de archivos locales</a></li>
                <li><a href="#obj2">Montaje de sistemas de archivos de red (NFS)</a></li>
                <li><a href="#obj3">Configurar autofs</a></li>
                <li><a href="#obj4">Ampliar volúmenes lógicos</a></li>
                <li><a href="#obj5">Diagnosticar problemas de permisos</a></li>
            </ul>
        </div>

        <div class="content">

            <section id="obj1">
                <h3>Crear, montar y desmontar sistemas de archivos locales</h3>
                <p>Linux soporta distintos sistemas de archivos. Como ya vimos en la clase 5, los más comunes serían principalmente con <strong>ext4</strong>, <strong>xfs</strong> y <strong>vfat</strong>.</p>
                <ul>
                    <li><strong>ext4</strong> → Sistema estándar en Linux</li>
                    <li><strong>xfs</strong> → Optimizado para grandes volúmenes (no se puede reducir)</li>
                    <li><strong>vfat</strong> → Compatible con otros sistemas. Usado en USBS principalmente</li>
                </ul>
                <p>Para crear un sistema de archivos usamos <code>mkfs</code> según el tipo. Por ejemplo vamos a crear dos nuevas particiones y formatearemos una con ext4 y otra con xfs y las montaremos :</p>
                <img src="/images/mkfs.png" alt="mkfs ejemplos" width="900">
                <img src="/images/comproba-mkfs.png" alt="mkfs ejemplo comprobación" width="600">
                <p>Una vez formateado y montado, podemos hacerlo permanente como ya sabemos, añadiendolo a <code>/etc/fstab</code>. Podemos desmontar con <code>umount</code>. Las comprobaciones las podemos hacer con mount, lsblk, df -Th ... Por mencionar, una vez desmontado, podemos usar comandos como fsck para comprobar el FS de ext4.</p>
            </section>

            <section id="obj2">
                <h3>Montar y desmontar sistemas de archivos de red usando NFS</h3>
                <p>NFS permite montar directorios remotos como si fueran locales. Es muy usado en entornos empresariales y es una de las preguntas en el examen seguramente. Pueden pedirlo de dos maneras diferente : utilizar cliente-servidor o realizar todo de forma local</p>
                <p>Primero lo vamos a hacer cliente-servidor. Para ello, en el <strong>SERVER</strong> instalamos el cliente NFS, creamos la carpeta a compartir y le damos permisos, comprobamos servicios y configuramos el archivo <code>/etc/exports</code> y el firewall : </p>
                <img src="/images/nfs-remote.png" alt="nfs remote ejemplo" width="700">
                <p>Después configuramos el <strong>CLIENTE</strong>, donde instalamos el cliente nfs, creamos la carpeta donde montaremos NFS y montaremos ( de forma temporal o persistente en /etc/fstab). Recordad que si nos pidieran montarlo con opciones sería en mount usar <code>-o "OPCION"</code> :</p>
                <img src="/images/nfs-client.png" alt="mount nfs client" width="700">
                <p>Por otro lado, podrían pedirnos hacerlo exclusivamente de forma local, para ello, y desde <strong>CLIENTE</strong> haremos : </p>
                <img src="/images/nfs-local.png" alt="mount nfs local" width="700">
                <p> Por ultimo , el error que vemos al final de esta ultima imagen se debe a un cambio que he hecho en el nfs remoto. Cuando veiais este error hay dos soluciones :</p>
                    <li><strong>exportfs -au  </strong> → Desexportar todo y volver a exportar luego con <code>exportfs -ar</code></li>
                    <li><strong>umount -f /mnt/nfs</strong> → Desde el cliente, desmontar de forma forzada</li>
                </ul>           
            </section>

            <section id="obj3">
                <h3>Configurar autofs</h3>
                <p><strong>autofs</strong> monta sistemas de archivos automáticamente cuando se accede a ellos, y los desmonta cuando no se usan.</p>
                <p>Es útil para evitar montajes permanentes de recursos de red.</p>
                <p>La configuración básica se hace en:</p>
                <ul>
                    <li><strong>/etc/auto.master</strong></li>
                    <li><strong>/etc/auto.*</strong></li>
                </ul>
                <img src="/images/autofs.png" alt="autofs ejemplo" width="700">
                <p>Tras configurar autofs, reiniciamos el servicio con <code>systemctl restart autofs</code>.</p>
            </section>

            <section id="obj4">
                <h3>Ampliar volúmenes lógicos existentes</h3>
                <p> Este punto ya lo hemos visto en la clase 5. Para no repetir, id a la clase 5 para revisarlo.</p>
                <p> Lo unico a mencionar es tened cuidado para no borrar datos o que no se os olvide el segundo comando (xfs_growfs) o (resize2fs). Para evitar esto, usar -r cuando lanceis el comando <code>lvextend</code> </p>
                <p> Tambien recordad que xfs NO permite reducir, solo ampliar. Para reducir tendremos que hacer ext4 u otros que si lo permiten</p>
            </section>

            <section id="obj5">
                <h3>Diagnosticar y corregir problemas de permisos de archivos</h3>
                <p>Los problemas de permisos son muy comunes. Para analizarlos usamos <code>ls -l</code>.</p>
                <p>Los permisos se dividen en lectura (r), escritura (w) y ejecución (x) para:</p>
                <ul>
                    <li>Usuario (owner)</li>
                    <li>Grupo</li>
                    <li>Otros</li>
                </ul>
                <p>Para corregir permisos usamos:</p>
                <ul>
                    <li><strong>chmod</strong> → Cambiar permisos</li>
                    <li><strong>chown</strong> → Cambiar propietario</li>
                    <li><strong>chgrp</strong> → Cambiar grupo</li>
                </ul>
                <img src="/images/permisos.png" alt="permisos ejemplo" width="700">
                <p>Un error común es olvidar el bit de ejecución en scripts o directorios.</p>
            </section>

        </div>
    </div>
</main>

<footer>
    <div class="footer-content">
        <p>S2KTUX | Un lugar para aprender sistemas y redes</p>
        <div class="footer-links">
            <a href="https://github.com/s2ktux">GitHub</a>
            <a href="mailto:alaisysadm@gmail.com">Contacto</a>
            <a href="https://www.youtube.com/@s2ktux">YouTube</a>
        </div>
    </div>
</footer>

<a href="#" id="back-to-top">↑ Volver arriba</a>
<script src="/conf/scripts.js"></script>

</body>
</html>
