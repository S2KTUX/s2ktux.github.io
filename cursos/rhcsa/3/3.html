<div class="lesson-wrapper">
    <header class="lesson-header">
        <span class="badge">RHCSA Objetivo 3</span>
        <h1>Crear scripts de shell simples</h1>
        <p>Automatizaci√≥n b√°sica y l√≥gica de programaci√≥n con Bash</p>
        
        <a href="https://youtu.be/CRaP1XjdS4A" target="_blank" class="video-card">
            <div class="video-icon">üé¨</div>
            <div class="video-text">
                <strong>VER VIDEO YOUTUBE - CLASE 3</strong>
                <span>Tutorial completo de scripting y automatizaci√≥n</span>
            </div>
        </a>
    </header>

    <div class="lesson-layout">
        <aside class="lesson-toc">
            <h4>Objetivos del bloque</h4>
            <ul>
                <li><a href="#obj1">1. C√≥digo condicional</a></li>
                <li><a href="#obj2">2. Uso de bucles</a></li>
                <li><a href="#obj3">3. Entradas de scripts</a></li>
                <li><a href="#obj4">4. Salida de comandos</a></li>
            </ul>
        </aside>

        <div class="course-content">

            <section id="obj1" class="lesson-section">
                <h3>1. Ejecutar c√≥digo condicionalmente (if,test,[]...)</h3>
                <p>Los scripts de shell permiten ejecutar comandos de forma autom√°tica. El control condicional se realiza principalmente con <strong>if</strong>, <strong>test</strong> y los corchetes de evaluaci√≥n.</p>
                <p>El shebang (#!) indica qu√© int√©rprete ejecutar√° el script (#!/bin/bash), usando luego comandos como <code>read</code> para guardar datos, <code>echo</code> para mostrar resultados.</p>
                <img src="/images/script1.png" alt="Script basico">
                <p>Debemos recordar que siempre que editemos un archivo para crear un script habr√° que darle permisos de ejecuci√≥n con <code>chmod +x nombre-script</code>.</p>
                <img src="/images/script2.png" alt="resultado script basico">
                <h4>Operadores l√≥gicos de archivos:</h4>
                <ul>
                    <li><strong>-e</strong><small> : Existe archivo/dir</small></li>
                    <li><strong>-f</strong><small> : Es archivo regular</small></li>
                    <li><strong>-d</strong><small> : Es un directorio</small></li>
                    <li><strong>-r/w/x</strong><small> : Permisos r, w o x</small></li>
                </ul>

                <h4>Comparaci√≥n de cadenas y n√∫meros:</h4>
                <ul>
                    <li><strong>Cadenas:</strong> <code>-z</code> (vac√≠a), <code>-n</code> (no vac√≠a), <code>=</code> (igual), <code>!=</code> (distinta).</li>
                    <li><strong>N√∫meros:</strong> <code>-eq</code> (==), <code>-ne</code> (!=), <code>-lt</code> (<), <code>-gt</code> (>), <code>-ge</code> (>=).</li>
                </ul>

                <p>En Bash, los espacios dentro de <code>[ ]</code> son obligatorios: <code>[ "$num" -eq 5 ]</code> es correcto, mientras que <code>["$num"-eq5]</code> fallar√°.</p>
                <img src="/images/script3.png" alt="Script con operadores">
                <img src="/images/script4.png" alt="Resultado operadores">

                <h4>Condiciones compuestas y [[ ]]:</h4>
                <p>En el scripting moderno se utilizan los dobles corchetes <code>[[ ]]</code> por ser m√°s seguros. Soportan operadores est√°ndar:</p>
                <ul>
                    <li><strong>&&</strong> (AND), <strong>||</strong> (OR), <strong>!</strong> (NOT), <strong>==</strong> (Igualdad), <strong>!=</strong> (Desigualdad).</li>
                </ul>
                <img src="/images/script5.png" alt="Script condicional compuesto">
                <img src="/images/script6.png" alt="Resultado condicional compuesto">

                <p>Tambi√©n disponemos de <code>case</code> para m√∫ltiples opciones de forma m√°s limpia:</p>
                <img src="/images/script7.png" alt="Sintaxis de case">
            </section>

            
            <section id="obj2" class="lesson-section">
                <h3>2. Uso de bucles para procesar archivos y entradas</h3>
                <p><strong>Bucle for:</strong> Ideal para iterar sobre una lista conocida de elementos, archivos o salidas de comandos.</p>
                <img src="/images/script8.png" alt="Ejemplo bucle for">
                <img src="/images/script9.png" alt="Resultado bucle for">
               <p><strong>Bucle while:</strong> Ideal para lecturas l√≠nea a l√≠nea (con <code>read</code>) o contadores. Podemos usar <code>IFS</code> para definir separadores en archivos como CSV.</p>
                <img src="/images/script10.png" alt="Ejemplo bucle while">
                <img src="/images/script11.png" alt="Resultado bucle while">
                <p>Usamos for cuando conocemos los elementos a recorrer, while mientras una condici√≥n sea verdadera y until mientras sea falsa.</p>

            </section>
            
            <section id="obj3" class="lesson-section">
                <h3>3. Procesar entradas de scripts</h3>
                <p>Los scripts pueden recibir argumentos desde la l√≠nea de comandos. Estos son los tipos principales:</p>
                <ul>
                    <li><strong>$0</strong> ‚Üí Nombre del script.</li>
                    <li><strong>$1, $2...</strong> ‚Üí Argumentos posicionales individuales.</li>
                    <li><strong>$#</strong> ‚Üí N√∫mero total de argumentos recibidos.</li>
                    <li><strong>$@</strong> ‚Üí Lista de todos los argumentos.</li>
                    <li><strong>$?</strong> ‚Üí Estado de salida del √∫ltimo comando (0 = √©xito).</li>
                    <li><strong>$?</strong> ‚Üí Estado del script</li>
                </ul>
                <img src="/images/script12.png" alt="Uso de argumentos">
                <img src="/images/script13.png" alt="Resultado de argumentos">
                <p>Podemos forzar la finalizaci√≥n de un script con un c√≥digo de error espec√≠fico usando <code>exit 1</code>.</p>
            </section>
            <section id="obj4" class="lesson-section">
                <h3>4. Procesar la salida de comandos dentro de un script</h3>
                <p>La salida de comandos puede almacenarse en variables usando la sintaxis <code>$(comando)</code>.</p>
                <p>Esto permite capturar informaci√≥n del sistema para procesarla m√°s tarde o redirigirla, combin√°ndola con lo aprendido en la Clase 1 sobre redirecciones de flujo.</p>
                <img src="/images/script14.png" alt="Procesando y redirigiendo">
                <img src="/images/script15.png" alt="Resultado redirecci√≥n en script">
                <div class="lesson-alert" style="background: rgba(0, 123, 255, 0.1); border-left: 4px solid #007bff; padding: 15px; margin-top: 20px;">
                    <strong>üí° CONSEJO :</strong> La mayor√≠a de errores en scripts vienen de fallos de sintaxis: falta de espacios en los corchetes, no dar permisos de ejecuci√≥n o usar rutas relativas en lugar de absolutas.
                </div>
            </section>

        </div>
    </div>
</div>
